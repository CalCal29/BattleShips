
<!DOCTYPE html>
<html>
    <head>
        
        
    </head>
    <body>

        <!-- <canvas id="canvas" height="900px" width="700px"></canvas>
        <canvas id="canvas2" height="900px" width="700px"></canvas> -->
        <div class="blah">
        
        <table id="table">

            <tr class = "mine">
                <td id="0"></td>
                <td id="1"></td>
                <td id="2"></td>
                <td id="3"></td>
                <td id="4"></td>
                <td id="5"></td>
                <td id="6"></td>
                <td id="7"></td>
                <td id="8"></td>
                <td id="9"></td>
            </tr>
            <tr class = "mine">
                <td id="10"></td>
                <td id="11"></td>
                <td id="12"></td>
                <td id="13"></td>
                <td id="14"></td>
                <td id="15"></td>
                <td id="16"></td>
                <td id="17"></td>
                <td id="18"></td>
                <td id="19"></td>
            </tr>
            <tr class = "mine">
                <td id="20"></td>
                <td id="21"></td>
                <td id="22"></td>
                <td id="23"></td>
                <td id="24"></td>
                <td id="25"></td>
                <td id="26"></td>
                <td id="27"></td>
                <td id="28"></td>
                <td id="29"></td>
            </tr>
            <tr class = "mine">
                <td id="30"></td>
                <td id="31"></td>
                <td id="32"></td>
                <td id="33"></td>
                <td id="34"></td>
                <td id="35"></td>
                <td id="36"></td>
                <td id="37"></td>
                <td id="38"></td>
                <td id="39"></td>
            </tr>
            <tr class = "mine">
                <td id="40"></td>
                <td id="41"></td>
                <td id="42"></td>
                <td id="43"></td>
                <td id="44"></td>
                <td id="45"></td>
                <td id="46"></td>
                <td id="47"></td>
                <td id="48"></td>
                <td id="49"></td>
            </tr>
            <tr class = "mine">
                <td id="50"></td>
                <td id="51"></td>
                <td id="52"></td>
                <td id="53"></td>
                <td id="54"></td>
                <td id="55"></td>
                <td id="56"></td>
                <td id="57"></td>
                <td id="58"></td>
                <td id="59"></td>
            </tr>
            <tr class = "mine">
                <td id="60"></td>
                <td id="61"></td>
                <td id="62"></td>
                <td id="63"></td>
                <td id="64"></td>
                <td id="65"></td>
                <td id="66"></td>
                <td id="67"></td>
                <td id="68"></td>
                <td id="69"></td>
            </tr>
            <tr class = "mine">
                <td id="70"></td>
                <td id="71"></td>
                <td id="72"></td>
                <td id="73"></td>
                <td id="74"></td>
                <td id="75"></td>
                <td id="76"></td>
                <td id="77"></td>
                <td id="78"></td>
                <td id="79"></td>
            </tr>
            <tr class = "mine">
                <td id="80"></td>
                <td id="81"></td>
                <td id="82"></td>
                <td id="83"></td>
                <td id="84"></td>
                <td id="85"></td>
                <td id="86"></td>
                <td id="87"></td>
                <td id="88"></td>
                <td id="89"></td>
            </tr>
            <tr class = "mine">
                <td id="90"></td>
                <td id="91"></td>
                <td id="92"></td>
                <td id="93"></td>
                <td id="94"></td>
                <td id="95"></td>
                <td id="96"></td>
                <td id="97"></td>
                <td id="98"></td>
                <td id="99"></td>
            </tr>
        </table>
        <table id="enemy_table">

            <tr>
                <td id="100"></td>
                <td id="101"></td>
                <td id="102"></td>
                <td id="103"></td>
                <td id="104"></td>
                <td id="105"></td>
                <td id="106"></td>
                <td id="107"></td>
                <td id="108"></td>
                <td id="109"></td>
            </tr>
            <tr>
                <td id="110"></td>
                <td id="111"></td>
                <td id="112"></td>
                <td id="113"></td>
                <td id="114"></td>
                <td id="115"></td>
                <td id="116"></td>
                <td id="117"></td>
                <td id="118"></td>
                <td id="119"></td>
            </tr>
            <tr>
                <td id="120"></td>
                <td id="121"></td>
                <td id="122"></td>
                <td id="123"></td>
                <td id="124"></td>
                <td id="125"></td>
                <td id="126"></td>
                <td id="127"></td>
                <td id="128"></td>
                <td id="129"></td>
            </tr>
            <tr>
                <td id="130"></td>
                <td id="131"></td>
                <td id="132"></td>
                <td id="133"></td>
                <td id="134"></td>
                <td id="135"></td>
                <td id="136"></td>
                <td id="137"></td>
                <td id="138"></td>
                <td id="139"></td>
            </tr>
            <tr>
                <td id="140"></td>
                <td id="141"></td>
                <td id="142"></td>
                <td id="143"></td>
                <td id="144"></td>
                <td id="145"></td>
                <td id="146"></td>
                <td id="147"></td>
                <td id="148"></td>
                <td id="149"></td>
            </tr>
            <tr>
                <td id="150"></td>
                <td id="151"></td>
                <td id="152"></td>
                <td id="153"></td>
                <td id="154"></td>
                <td id="155"></td>
                <td id="156"></td>
                <td id="157"></td>
                <td id="158"></td>
                <td id="159"></td>
            </tr>
            <tr>
                <td id="160"></td>
                <td id="161"></td>
                <td id="162"></td>
                <td id="163"></td>
                <td id="164"></td>
                <td id="165"></td>
                <td id="166"></td>
                <td id="167"></td>
                <td id="168"></td>
                <td id="169"></td>
            </tr>
            <tr>
                <td id="170"></td>
                <td id="171"></td>
                <td id="172"></td>
                <td id="173"></td>
                <td id="174"></td>
                <td id="175"></td>
                <td id="176"></td>
                <td id="177"></td>
                <td id="178"></td>
                <td id="179"></td>
            </tr>
            <tr>
                <td id="180"></td>
                <td id="181"></td>
                <td id="182"></td>
                <td id="183"></td>
                <td id="184"></td>
                <td id="185"></td>
                <td id="186"></td>
                <td id="187"></td>
                <td id="188"></td>
                <td id="189"></td>
            </tr>
            <tr>
                <td id="190"></td>
                <td id="191"></td>
                <td id="192"></td>
                <td id="193"></td>
                <td id="194"></td>
                <td id="195"></td>
                <td id="196"></td>
                <td id="197"></td>
                <td id="198"></td>
                <td id="199"></td>
            </tr>
        </table>
    </div>
        <style>
            td {
                height: 4.8vw;
                width: 4.8vw;
                transition: 1s;
            }

            td:hover {
                background-color: black;

            }

            tr.mine {
                background-color: blue;
            }
            tr{
                background-color: purple;
            }

            .blah {
                display: flex;
                justify-content: space-between;
            }

            table {
                border: 5px solid black
            }
        </style>

        <br />
        
        <button id = "forfeit_id" onclick="Forfeit()">Forfeit</button>
        <button id = "save_id" onclick="Save()">Save Board</button>
        <button id = "carr_id" onclick="Carrier()">Carrier</button>
        <button id = "batt_id" onclick="Battleship()">Battleship</button>
        <button id = "sub_id"onclick="Submarine()">Submarine</button>
        <button id = "cruis_id" onclick="Cruiser()">Cruiser</button>
        <button id = "dest_id"onclick="Destroyer()">Destroyer</button>
        <button id = "vert_id"onclick="Vertical()">Vertical </button>
        <button id = "hori_id" onclick="Horizontal()">Horizontal</button>
        <button id = "begin_id" onclick="Begin()">Begin Our Attack</button>

        
       


        <script>
            
            document.getElementById('forfeit_id').style.visibility = 'hidden';
            document.getElementById('begin_id').style.visibility = 'hidden';
            // arr and enemy_arr created to test 
            arr = [];
            enemy_arr = [];
            var butt; 
            var place = 0;
            var save_check = 1;
            var begin;
            var turn = 0;
            // makes sure game is saved
            grid = [
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,

            ];

            enemy_grid = [
                1,1,1,1,0,0,1,0,0,0,
                0,0,0,0,0,0,1,0,0,0,
                0,0,0,0,0,0,1,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,1,1,1,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,0,1,1,0,0,0,0,
                0,0,0,0,0,0,0,0,0,0,
                0,0,0,1,1,1,1,1,0,0,

            ];
            console.log(grid);
            console.log(enemy_grid)

            
            



           function def_loop(){
               
                for(var i = 0; i <= 99; ++i){
                    el = document.getElementById(`${i}`)
                    arr.push(el);  
                    console.log(`${i}, ${el}`)
                    el.addEventListener("click", placement);
                    
                }
           }
           function firing(event){
                 
                var enemy_e = event.target
                var enemy_cell = enemy_e.getAttribute('id');
                enemy_ce = parseInt(enemy_cell, 10)
                enemy_cen = enemy_ce - 100
                var n = enemy_grid.includes(1);
                if(n != true){
                    alert("you won");
                    
                    return;
                }
                console.log(n);
                if(enemy_grid[enemy_cen] != 1){
                    
                    event.target.style.background = "yellow";
                    
                }
                if(enemy_grid[enemy_cen] == 1){
                    
                    event.target.style.background = "red";
                    enemy_grid[enemy_cen] = 0;
                }
                event.target.removeEventListener("click",firing)
                
                
                
                
                
                
               
                enemyTurn();
                

            }

           
                       
            function placement(event) {
                event.target.style.background = "green"  
                

                
                


                var e = event.target
                var cell = e.getAttribute('id');
                cen = parseInt(cell, 10)
                grid[cen] = 1;
                //testing 
                console.log(place)
                console.log(butt)
                console.log(cen)
                console.log(e);
                
                
                
                if(place == 0){
                    for(var i = 0; i < butt; i++){
                        document.getElementById(cen+i).style.background = "green";
                        grid[cen+i] = 1;

                    }
                }
                if(place == 1){
                    for(var x = 0; x < butt; x++){
                    
                        document.getElementById(cen+x*10).style.background = "green";
                        grid[cen+x*10] = 1;
                    }
                
                
                }
                console.log(grid)
                
                
                
            } 
            function Carrier(){
                //5 spaces
                if(save_check == 1){
                    butt = 5
                    console.log("Carrier");
                    console.log(arr)
                    def_loop();
                }
                
            }
            function Battleship(){
                //4 spaces
                if(save_check == 1){
                    butt = 4
                    console.log("Battleship");
                    def_loop();
                }
                
            }
            function Submarine(){
                // 3 spaces
                if(save_check == 1){
                    butt = 3
                    console.log("Submarine");
                    def_loop();
                }
                
            }
            function Cruiser(){
                // 3 spaces
                if(save_check == 1){
                    butt = 3
                    console.log("cruiser");
                    def_loop();
                }
                
            }
            function Destroyer(){
                if(save_check == 1){
                    butt = 2
                    //2 spaces
                    console.log("Destroyer");
                    def_loop();
                }
                
            }
            function Vertical(){
                place = 1;
            }
            function Horizontal(){
                place = 0;
            }
            function Save(){
                for(var i = 0; i <= 99; ++i){
                    el = document.getElementById(`${i}`)
                    arr.push(el);  
                    console.log(`${i}, ${el}`)
                    el.removeEventListener("click", placement);
                    
                }
                document.getElementById('begin_id').style.visibility = 'visible';
                document.getElementById('batt_id').style.visibility = 'hidden';
                document.getElementById('carr_id').style.visibility = 'hidden';
                document.getElementById('sub_id').style.visibility = 'hidden';
                document.getElementById('cruis_id').style.visibility = 'hidden';
                document.getElementById('dest_id').style.visibility = 'hidden';
                document.getElementById('vert_id').style.visibility = 'hidden';
                document.getElementById('hori_id').style.visibility = 'hidden';
                
                document.getElementById('save_id').style.visibility = 'hidden';
                save_check = save_check -1;
                
            }

            function Begin(){
                begin = 1;
                alert("Fire: Double click on enemy board to rain hell")
               
                document.getElementById('forfeit_id').style.visibility = 'visible';
                document.getElementById('begin_id').style.visibility = 'hidden';
                for(var i =99; i <= 199; ++i){
                    el = document.getElementById(`${i}`)
                    enemy_arr.push(el);  
                    console.log(`${i}, ${el}`)
                    el.addEventListener("click", firing);
                    
                }
            }

            function enemyTurn(){
                co_ord = Math.floor(Math.random() * 100);
                if(grid[co_ord] == 1){
                    
                    document.getElementById(`${co_ord}`).style.background = "red";

                }
                

                if(grid[co_ord] != 1){
                    document.getElementById(`${co_ord}`).style.background = "yellow";

                } 
                var n = grid.includes(1);
                if(n != true){
                   alert("you lost")
                }

                

                
            }          


            
        </script>



    </body> 
</html>

